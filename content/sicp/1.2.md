---
title: "SICP 1.2 Exercises"
date: 2020-02-15T16:08:23+01:00
categories:
- "SICP"
tags:
- "Learning"
- "SICP"
- "Examples"
---
The problems ended up being more mathematical than I was originally expecting from an introductory textbook, but I believe I succesfully managed to navigate them..

Exercises
-------------------------
Exercise 1.9

Each of the following two procedures defines a method for adding two positive integers in terms of the procedures inc, which increments its argument by 1, and dec, which decrements its argument by 1. 

{{< highlight scheme >}}
(define (+ a b)
  (if (= a 0) 
      b 
      (inc (+ (dec a) b))))

(define (+ a b)
  (if (= a 0) 
      b 
      (+ (dec a) (inc b))))
{{< /highlight >}}

Using the substitution model, illustrate the process generated by each procedure in evaluating (+ 4 5). Are these processes iterative or recursive? 

{{< highlight scheme >}}
	(+ 4 5)
	(inc (+ 3 5))
	(inc (inc (+2 5)))
	(inc (inc (inc (+ 1 5))))
	(inc (inc (inc (inc (+ 0 5)))))
	(inc (inc (inc (inc 5))))
	(inc (inc (inc 6)))
	(inc (inc 7)))
	(inc 8)
	9

	;This is recursive
{{< /highlight >}}

{{< highlight scheme >}}
(+ 4 5)
(+ (dec 4) (inc 5))
(+ 3 6)
(+ (dec 3) (inc 6))
(+ 2 7)
(+ (dec 2) (inc 7))
(+ 1 8)
(+ (dec 1) (inc 8))
(+ 0 9)
9

;This is iterative, as it does not have an increasing
;and then contracting amount of steps. 
{{< /highlight >}}


Exercise 1.10

The following procedure computes a mathematical function called Ackermann’s function. 

{{< highlight scheme >}}
(define (A x y)
  (cond ((= y 0) 0)
        ((= x 0) (* 2 y))
        ((= y 1) 2)
        (else (A (- x 1)
                 (A x (- y 1))))))
{{< /highlight >}}

What are the values of the following expressions?

(A 1 10)

{{< highlight scheme >}}
(A 1 10)
	(A 0 (A 1 9))
		(A 0 (A (1 8)))
		(A 0 (A 0 (A 2 7)))
		.
		.
		.
		(A 0 (A 0 . . . (A 0 (1 1))))
        . . . (A 0 (A 0 2))
		. . . (A 0 4) ;work back up the chain
		(A 1 10) = 1024
{{< /highlight >}}
(A 2 4)
{{< highlight scheme >}}
(A 2 4)
(A 1 (A 2 3))
(A 1 (A 1 (A 2 2)))
(A 1 (A 1 (A 1 (A 2 1))))
(A 1 (A 1 (A 1 2)))
(A 1 (A 1 4))
(A 1 (A 0 (A 0 3)))
(A 1 (A 0 (A 0 (A 0 2))))
(A 1 (A 0 (A 0 (A 0 (A 0 1)))))
(A 1 (A 0 (A 0 (A 0 2))))
(A 1 16)
(A 0 15) (A 0 14) . . .)
. 
.
.
(A 0 (A 0 1))
...
(A 0 2)

= 2^16

= 65536

;This needs to be cleaned up it's confusing to follow.
{{< /highlight >}}

(A 3 3)
 
{{< highlight scheme >}}
(A 3 3)
(A 2 (A 3 2))
(A 2 (A 2 (A 3 1)))
(A 2 (A 2 (A 2 2)))
(A 2 (A 2 2))
(A 2 4)

;Which from the previous question is 65536
{{< /highlight >}}

Consider the following procedures, where A is the procedure defined above: 

{{< highlight scheme >}}
(define (f n) (A 0 n))
(define (g n) (A 1 n))
(define (h n) (A 2 n))
(define (k n) (* 5 n n))
{{< /highlight >}}

Give concise mathematical definitions for the functions computed by the procedures $f$, $g$, and $h$ for positive integer values of $n$ . For example, (k n) computes $5n^{2}$.

$(f n) = 2n$ as (A 0 n) = (* 2 y)

$(g n) = 2^{n}$ 

(A 1 n) does (A 0 (A 0 (A 0)) $\cdots$ (A 0 1)) n times, and to double a number n times gives $2^{n}$

{{< highlight scheme >}}
(A 2 n)
(A 1 (A 2 (n -1)))
(A 1 (A 2 ((n-1)-1)))
.
.
.
(A 1 (A 1 (A 1 . . . (A 2 0))))
;We are doing (A 1 (A 1 2)) n times.
{{< /highlight >}}

We can represent this as $2^{(h (-\hspace{2mm} n \hspace{2mm} 1))}$

or simply we are doing $2^{n}$ $n$ times.

This is called tetration and is written as ${^{n}2} = {2^{2^{2^{{\cdot^{\cdot^{\cdot^{}}}}}}}} n$ times

so $(k n) = {^{n}2}$



Exercise 1.11

A function $f$ is defined by the rule that $f ( n ) = n$ if $n < 3$ and $f ( n ) = f ( n − 1 ) + 2 f ( n − 2 ) + 3 f ( n − 3 )$ if $n ≥ 3$ . Write a procedure that computes $f$ by means of a recursive process. Write a procedure that computes $f$ by means of an iterative process. 

{{< highlight scheme >}}
(define (f n)
	(cond ((= n 0) 0)
		  ((= n 1) 1)
		  ((= n 2) 2)
		  ((= n 3) 3)
		  (else (+ (f (- n 1))
		  		(* 2 (f (- n 2)))
		  		(* 3 (f (- n 3)))))))
		  		;recursive
{{< /highlight >}}

For an iterative process we want to use 3 integers

$a \leftarrow b$

$b \leftarrow c$

$c \leftarrow c + 2b + 3a$

Then use initial conditions of 

$f(0) = 0$
$f(1) = 1$
$f(2) = 2$
$f(3) = 3$

{{< highlight scheme >}}
(define (f n)
(fiter 1 2 3 (- n 2)))

(define (fiter a b c count)
	if (= count 0)
		c
	(fiter b c (+ c (* 2 b) (* 3 a)) (- count 1)))
{{< /highlight >}}

I read these exercises wrong and did $n < 4$ instead but it should be fairly trivial to change this to arrive at a correct solution.



Exercise 1.12

The following pattern of numbers is called Pascal’s triangle. 

$\newcommand\pad[1]{\rlap{#1}\phantom{274}}
\begin{matrix}
    &&&&&1 \newline
    &&&&1&&1\newline
    &&&1&&2&&1\newline
    &&1&&3&&3&&1\newline
    &\pad{1}&&\pad{4}&&\pad{6}&&\pad{4}&&\pad{1}
    \end{matrix}$

The numbers at the edge of the triangle are all 1, and each number inside the triangle is the sum of the two numbers above it. Write a procedure that computes elements of Pascal’s triangle by means of a recursive process. 

We want to take in a column and a row and get a number out, eg (p r c).
(p 1 1) gives 1

(p 3 2) gives 2

Note that pascals triangle gives the binomial coefficients of ${row-1}\choose{column-1}$ at row, column.

${n}\choose{k}$ $= \frac{n!}{(n - k)!k!}$

{{< highlight scheme >}}
(define (pascal r c)
	(cond ((= c 1) 1)
		  ((= r c) 1)
		  (else (binomial (- r 1)(- c 1)))))

(define (binomial (n k)
		(/ (factorial n)
		   (* (factorial (- n k))(factorial k)))))
{{< /highlight >}}

For this we are using row column as horizontal/vertical, not along the triangle.

This was the way of solving the problem I naturally jumped to but it's not a recursive process, so let's investigate the pattern recursively. 

The edges are 1 while everything else is the sum of the numbers above it. 
{{< highlight scheme >}}
(define (pascalr r c)
	(cond ((= c 1) 1)
		  ((= r c) 1)
		  (else (+ (pascalr(- r 1)(- c 1)) (pascalr(- r 1) c)))))
{{< /highlight >}}


Exercise 1.13

Prove that $Fib ( n )$ is the closest integer to $\frac{\phi^{n}}{\sqrt{5}}$, where $\phi = \frac{1 + 5}{2}$.

Hint: Let $\psi = \frac{1 - 5}{2}$. Use induction and the definition of the Fibonacci numbers (see 1.2.2) to prove that $Fib ( n ) = \frac{\phi(n) − \psi(n)}{5}$. 

$\phi = \frac{1 + \sqrt 5}{2}, \psi = \frac{1 - \sqrt 5}{2}$

Let's prove that $Fib(n) = \frac{\phi^{n} - \psi^{n}}{\sqrt 5}$ 

$Fib(0) = \frac{\phi^{0} - \psi^{0}}{\sqrt 5} = 0$ 

$Fib(1) = \frac{\phi^{1} - \psi^{1}}{\sqrt 5} = \frac{\frac{1 + \sqrt{5} - (1 - \sqrt{5})}{2}}{\sqrt{5}} = \frac{\frac{2\sqrt{5}}{2}}{\sqrt{5}} =  1$ 

We have proven our initial conditions.

$Fib(n + 1) = Fib(n) + Fib(n - 1)$

$= (\frac{\phi^{n} - \psi^{n}}{\sqrt{5}} + \frac{\phi^{n-1} - \psi^{n-1}}{\sqrt{5}})$


$= \frac{\phi^{n} + \phi^{n - 1} - \psi^{n}  - \psi^{n - 1}}{\sqrt{5}}$

$= \frac{(1 + \phi)\phi^{n-1} - (1 + \psi)\psi^{n-1}}{\sqrt{5}}$

Note $\phi^{2} = (\frac{1 + \sqrt{5}}{2})^{2}$

$= \frac{6 + 2\sqrt{5}}{4}$

$= \frac{3 + \sqrt{5}}{2}$

$= 1 + \frac{1 + \sqrt{5}}{2}$

$= (1 + \phi)$

This is similarly true for $\psi$. Therefore, 

$\frac{(1 + \phi)\phi^{n-1} - (1 + \psi)\psi^{n-1}}{\sqrt{5}} = \frac{(\phi^{2})\phi^{n-1} - (\psi^{2})\psi^{n-1}}{\sqrt{5}}$

$= \frac{\phi^{n+1} - \psi^{n+1}}{\sqrt{5}}$

Which is $Fib(n+1)$

∎

To prove that $Fib(n)$ is the closest interger to $\frac{\phi^{n}}{\sqrt{5}}$

$Fib(n) = \frac{\phi^{n} - \psi^{n}}{\sqrt 5}$ 

We need to prove that

$\mid Fib(n) - \frac{\phi^{n}}{\sqrt{5}} \mid < \frac{1}{2}$ so that it will be the closest integer.

$\mid \frac{\phi^{n} - \psi^{n}}{\sqrt 5} - \frac{\phi^{n}}{\sqrt{5}} \mid < \frac{1}{2}$

$\mid \frac{\psi^{n}}{\sqrt{5}} \mid < \frac{1}{2}$

$\mid \psi^{n} \mid < \frac{\sqrt{5}}{2}$

$\forall x : -1 \leq x \leq 1$ and $\forall n \geq 1 \in \mathbb{R}$

$0 \leq \mid x^{n} \mid \leq 1$

$\frac{\sqrt{5}}{2} \approx 1.1180$

So this inequality is true $\forall n$ of the Fibonacci sequence.

Exercise 1.14

Draw the tree illustrating the process generated by the count-change procedure of 1.2.2 in making change for 11 cents. What are the orders of growth of the space and number of steps used by this process as the amount to be changed increases? 

Not sure how to represent this at the moment, check back soon.



Exercise 1.15

The sine of an angle (specified in radians) can be computed by making use of the approximation $\sin(x) ≈ x$ if $x$ is sufficiently small, and the trigonometric identity 

$$ \sin{x} = 3\sin{\frac{x}{3}} - 4\sin^{3}{\frac{x}{3}}$$

to reduce the size of the argument of sin. (For purposes of this exercise an angle is considered “sufficiently small” if its magnitude is not greater than 0.1 radians.) These ideas are incorporated in the following procedures: 
{{< highlight scheme >}}
(define (cube x) (* x x x))
(define (p x) (- (* 3 x) (* 4 (cube x))))
(define (sine angle)
   (if (not (> (abs angle) 0.1))
       angle
       (p (sine (/ angle 3.0)))))
{{< /highlight >}}

How many times is the procedure p applied when (sine 12.15) is evaluated?

$\frac{12.15}{3^{5}} = 0.05$ so 5 times.

What is the order of growth in space and number of steps (as a function of a ) used by the process generated by the sine procedure when (sine a) is evaluated? 

The complexity of both the space and steps can be described as $\theta(\log{n})$

Need diagram.

